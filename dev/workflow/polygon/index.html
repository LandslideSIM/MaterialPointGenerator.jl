<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Polygon · MaterialPointGenerator.jl</title><meta name="title" content="Polygon · MaterialPointGenerator.jl"/><meta property="og:title" content="Polygon · MaterialPointGenerator.jl"/><meta property="twitter:title" content="Polygon · MaterialPointGenerator.jl"/><meta name="description" content="Documentation for MaterialPointGenerator.jl."/><meta property="og:description" content="Documentation for MaterialPointGenerator.jl."/><meta property="twitter:description" content="Documentation for MaterialPointGenerator.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="MaterialPointGenerator.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">MaterialPointGenerator.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Workflow</span><ul><li><a class="tocitem" href="../simple_mesh/">Simple Mesh</a></li><li class="is-active"><a class="tocitem" href>Polygon</a><ul class="internal"><li><a class="tocitem" href="#Simple-2D-model"><span>Simple 2D model</span></a></li><li><a class="tocitem" href="#Arbitrary-2D-model"><span>Arbitrary 2D model</span></a></li><li><a class="tocitem" href="#Advanced"><span>Advanced</span></a></li></ul></li><li><a class="tocitem" href="../polyhedron/">Polyhedron</a></li><li><a class="tocitem" href="../DEM/">DEM</a></li></ul></li><li><span class="tocitem">Example</span><ul><li><a class="tocitem" href="../../example/polygon/">Polygon</a></li><li><a class="tocitem" href="../../example/polyhedron/">Polyhedron</a></li><li><a class="tocitem" href="../../example/DEM/">DEM</a></li></ul></li><li><a class="tocitem" href="../../utils/">Useful tools</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Workflow</a></li><li class="is-active"><a href>Polygon</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Polygon</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/LandslideSIM/MaterialPointGenerator.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/LandslideSIM/MaterialPointGenerator.jl/blob/main/docs/src/workflow/polygon.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Polygon"><a class="docs-heading-anchor" href="#Polygon">Polygon</a><a id="Polygon-1"></a><a class="docs-heading-anchor-permalink" href="#Polygon" title="Permalink"></a></h1><p>For the two-dimensional polygon model, we consider two cases: 1) simple polygons, which have no holes in their interior, and 2) complex arbitrary polygons.</p><p>For the first scenario, we simply need to input the vertices of the polygon in a counterclockwise order, and then MaterialPointGenerator.jl will automatically generate uniform material points of the specified size within the minimum enclosing rectangle (AABB) of the polygon. It will use the winding number algorithm to determine whether each material point is inside the polygon. This process does not take much time for simple polygons, and we have enabled multithreading by default (make sure to configure the correct number of threads when starting Julia).</p><p>For the second scenario, to support complex polygons in any situation, we need to utilize some preprocessing software. Here, we recommend using <a href="https://gmsh.info">Gmsh</a>, which is not only open-source and powerful but also offers a user-friendly GUI, making it very easy to get started. We first create the model in Gmsh, where we can determine the precision of the triangular mesh according to our needs (there are many tutorials on Gmsh available on YouTube). After that, we export it as a <code>.stl</code> file. While other formats can theoretically be used, we always recommend sticking with the <code>.stl</code> format. Next, you simply need to read this file and specify the grid size (the grid size in MPM simulations), which is very straightforward!</p><h2 id="Simple-2D-model"><a class="docs-heading-anchor" href="#Simple-2D-model">Simple 2D model</a><a id="Simple-2D-model-1"></a><a class="docs-heading-anchor-permalink" href="#Simple-2D-model" title="Permalink"></a></h2><p>We are preparing to discretize a two-dimensional pentagon, noting that the specified distance is between the material points in both the x and y directions.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MaterialPointGenerator.polygon2particle-Tuple{Any, Any, Any}" href="#MaterialPointGenerator.polygon2particle-Tuple{Any, Any, Any}"><code>MaterialPointGenerator.polygon2particle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">polygon2particle(polygon, lpx, lpy)</code></pre><p><strong>Description:</strong></p><p>Generate structured particles from a given polygon. Note the vertices of the polygon should  be ordered in a <strong>counterclockwise</strong> manner; otherwise, it may lead to incorrect results.  </p><p><code>lpx</code> and <code>lpy</code> are the space of particles in <code>x</code> and <code>y</code> directions, respectively.</p><p><code>polygon</code> is the polygon, for example, <code>polygon = [0 0; 2 0; 2 1; 0 1]</code> means generate structured particles in a rectangle area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LandslideSIM/MaterialPointGenerator.jl/blob/45b1df419e7472496f39e796e160c5ea711cbdc5/src/polygon.jl#L43-L55">source</a></section></article><pre><code class="language-julia hljs">julia&gt; polygon = [0.3 0.0; 0.8 0.0; 1.1 0.5; 0.55 0.8; 0.0 0.5]
julia&gt; pts = polygon2particle(polygon, 0.01, 0.01)
223×2 Matrix{Float64}:
 0.03  0.49
 0.08  0.39
 0.08  0.44
 0.08  0.49
 0.08  0.54
 0.13  0.29
 ⋮     
 0.98  0.54
 1.03  0.39
 1.03  0.44
 1.03  0.49
 1.08  0.49</code></pre><p><img src="../image3.png" alt="image3"/></p><h2 id="Arbitrary-2D-model"><a class="docs-heading-anchor" href="#Arbitrary-2D-model">Arbitrary 2D model</a><a id="Arbitrary-2D-model-1"></a><a class="docs-heading-anchor-permalink" href="#Arbitrary-2D-model" title="Permalink"></a></h2><p>Please use pre-processing tools like Gmsh or MeshLab to ensure that the current mesh is closed in advance.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MaterialPointGenerator.polygon2particle-Tuple{String, String, Any}" href="#MaterialPointGenerator.polygon2particle-Tuple{String, String, Any}"><code>MaterialPointGenerator.polygon2particle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">polygon2particle(stl_file, output_file, h; verbose=true)</code></pre><p><strong>Description:</strong></p><p>Generate structured particles from a given <code>.stl</code> file. The particles are generated by voxelizing the 2D space of the STL model. The voxel size <code>h</code> should be positive.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LandslideSIM/MaterialPointGenerator.jl/blob/45b1df419e7472496f39e796e160c5ea711cbdc5/src/polygon.jl#L81-L88">source</a></section></article><h2 id="Advanced"><a class="docs-heading-anchor" href="#Advanced">Advanced</a><a id="Advanced-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced" title="Permalink"></a></h2><p>This involves some advanced operations for partitioning the generated material points. There are two ways to achieve this: 1) directly determining whether the current material point is within a specified polygonal area, and 2) using the concept of physical groups in Gmsh to differentiate the model during the meshing phase. </p><p>For the first case, we can utilize a practical function to check if a point is inside the polygon. </p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MaterialPointGenerator.particle_in_polygon-Union{Tuple{T}, Tuple{T, T, Any}} where T" href="#MaterialPointGenerator.particle_in_polygon-Union{Tuple{T}, Tuple{T, T, Any}} where T"><code>MaterialPointGenerator.particle_in_polygon</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">particle_in_polygon(px, py, polygon)</code></pre><p><strong>Description:</strong></p><p>Determine whether a point is inside a polygon. Note the vertices of the polygon should be       ordered in a <strong>counterclockwise</strong> manner; otherwise, it may lead to incorrect results.  </p><p>(This function is generated by ChatGPT 4o - 2024.10.10)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LandslideSIM/MaterialPointGenerator.jl/blob/45b1df419e7472496f39e796e160c5ea711cbdc5/src/polygon.jl#L16-L25">source</a></section></article><p>For the second case, in addition to the <code>.stl</code> file, we also need to provide a <code>.msh</code> file.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MaterialPointGenerator.polygon2particle-Tuple{String, String, String, String, Any}" href="#MaterialPointGenerator.polygon2particle-Tuple{String, String, String, String, Any}"><code>MaterialPointGenerator.polygon2particle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">polygon2particle(stl_file, msh_file, output_file, nid_file, h; verbose=true)</code></pre><p><strong>Description:</strong></p><p>Generate structured particles from a given <code>.stl</code> file and <code>.msh</code> file. The particles are generated by voxelizing the 2D space of the STL model. The voxel size <code>h</code> should be positive.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LandslideSIM/MaterialPointGenerator.jl/blob/45b1df419e7472496f39e796e160c5ea711cbdc5/src/polygon.jl#L107-L114">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../simple_mesh/">« Simple Mesh</a><a class="docs-footer-nextpage" href="../polyhedron/">Polyhedron »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Thursday 13 February 2025 14:16">Thursday 13 February 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
